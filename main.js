/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/main.scss":
/*!******************************!*\
  !*** ./src/styles/main.scss ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/main.scss */ "./src/styles/main.scss");

let regionNames = new Intl.DisplayNames(['en'], {
  type: 'region'
});

function getPos() {
  return new Promise((res, rej) => {
    navigator.geolocation.getCurrentPosition(res, rej);
  });
}

function apiCall(latitude, longitude) {
  return fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(latitude, "&lon=").concat(longitude, "&units=metric&appid=31d60ae22906002464e0e7f4ef608bc5"), {
    mode: 'cors'
  });
}

function apiSearch(loc) {
  return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(loc, "&units=metric&appid=31d60ae22906002464e0e7f4ef608bc5"), {
    mode: 'cors'
  });
}

async function weatherLoad() {
  const userPos = await getPos();
  const userLat = userPos.coords.latitude;
  const userLong = userPos.coords.longitude;
  const userAPI = await apiCall(userLat, userLong);
  const userJSON = await userAPI.json();
  const userForecast = await weatherLoadForecast(userLat, userLong);
  const userForecastJSON = await userForecast.json();
  const fiveDay = [];
  userForecastJSON.list.forEach(item => {
    if (item.dt_txt.includes("12:00:00")) {
      fiveDay.push(item);
    }
  });
  const userWeatherData = {
    loc: userJSON.name,
    country: userJSON.sys.country,
    temp: userJSON.main.temp,
    feelsLike: userJSON.main.feels_like,
    desc: userJSON.weather[0].description.charAt(0).toUpperCase() + userJSON.weather[0].description.slice(1),
    humidity: userJSON.main.humidity,
    windSpeed: userJSON.wind.speed,
    icon: userJSON.weather[0].icon,
    forecast: fiveDay
  };
  return userWeatherData;
}

function addForecast(weatherObj) {
  const body = document.querySelector('body');
  const container = document.querySelector('.forecast');
  weatherObj.forecast.forEach(item => {
    const date = item.dt_txt.split(' ');
    const newDate = new Date(date).toDateString();
    const forecastContainer = document.createElement('div');
    const fDate = document.createElement('p');
    const icon = document.createElement('img');
    icon.src = "http://openweathermap.org/img/wn/".concat(item.weather[0].icon, ".png");
    const fTemp = document.createElement('p');
    const fDesc = document.createElement('p');
    fDate.textContent = newDate;
    fTemp.textContent = "".concat(item.main.temp, "\xB0C");
    fDesc.textContent = "".concat(item.weather[0].description.charAt(0).toUpperCase() + item.weather[0].description.slice(1));
    forecastContainer.appendChild(fDate);
    forecastContainer.appendChild(icon);
    forecastContainer.appendChild(fTemp);
    forecastContainer.appendChild(fDesc);
    container.appendChild(forecastContainer);
  });
  body.appendChild(container);
}

function weatherLoadForecast(latitude, longitude) {
  return fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(latitude, "&lon=").concat(longitude, "&units=metric&appid=31d60ae22906002464e0e7f4ef608bc5"), {
    mode: 'cors'
  });
}

function weatherSearchForecast(loc) {
  return fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(loc, "&units=metric&appid=31d60ae22906002464e0e7f4ef608bc5"), {
    mode: 'cors'
  });
}

async function searchWeather(location) {
  const weatherSearch = await apiSearch(location);
  const weatherJSON = await weatherSearch.json();
  const weatherForecast = await weatherSearchForecast(location);
  const weatherForecastJSON = await weatherForecast.json();
  const fiveDay = [];
  weatherForecastJSON.list.forEach(item => {
    if (item.dt_txt.includes("12:00:00")) {
      fiveDay.push(item);
    }
  });
  const weatherData = {
    loc: weatherJSON.name,
    country: weatherJSON.sys.country,
    temp: weatherJSON.main.temp,
    feelsLike: weatherJSON.main.feels_like,
    desc: weatherJSON.weather[0].description.charAt(0).toUpperCase() + weatherJSON.weather[0].description.slice(1),
    humidity: weatherJSON.main.humidity,
    windSpeed: weatherJSON.wind.speed,
    icon: weatherJSON.weather[0].icon,
    forecast: fiveDay
  };
  return weatherData;
}

function addToDOM(weatherObj) {
  const body = document.querySelector('body');
  const container = document.querySelector('.weather-info');
  container.textContent = '';
  const pLoc = document.createElement('p');
  const pTemp = document.createElement('p');
  const pFeels = document.createElement('p');
  const pDesc = document.createElement('p');
  const pHumid = document.createElement('p');
  const pWind = document.createElement('p');
  const icon = document.createElement('img');
  icon.src = "http://openweathermap.org/img/wn/".concat(weatherObj.icon, ".png");
  pLoc.textContent = "".concat(weatherObj.loc, ", ").concat(regionNames.of(weatherObj.country));
  pTemp.textContent = "Temperature: ".concat(weatherObj.temp, "\xB0C");
  pFeels.textContent = "Feels like: ".concat(weatherObj.feelsLike, "\xB0C");
  pDesc.textContent = "Weather: ".concat(weatherObj.desc);
  pHumid.textContent = "Humidity: ".concat(weatherObj.humidity, "%");
  pWind.textContent = "Wind speed: ".concat(weatherObj.windSpeed, " m/s");
  container.appendChild(pLoc);
  container.appendChild(pTemp);
  container.appendChild(pFeels);
  container.appendChild(pDesc);
  container.appendChild(pHumid);
  container.appendChild(pWind);
  container.appendChild(icon);
  body.appendChild(container);
}

window.addEventListener('load', () => {
  weatherLoad().then(data => {
    addToDOM(data);
    addForecast(data);
  });
});
const input = document.querySelector('.weather-input');
const submitBtn = document.querySelector('.submit');
submitBtn.addEventListener('click', e => {
  e.preventDefault();
  const userInput = input.value;
  searchWeather(userInput).then(data => {
    addToDOM(data);
    addForecast(data);
  });
});
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDYSxXQUFWLENBQXNCVSxJQUF0QjtFQUNBdkIsU0FBUyxDQUFDYSxXQUFWLENBQXNCVyxLQUF0QjtFQUNBeEIsU0FBUyxDQUFDYSxXQUFWLENBQXNCWSxNQUF0QjtFQUNBekIsU0FBUyxDQUFDYSxXQUFWLENBQXNCYSxLQUF0QjtFQUNBMUIsU0FBUyxDQUFDYSxXQUFWLENBQXNCYyxNQUF0QjtFQUNBM0IsU0FBUyxDQUFDYSxXQUFWLENBQXNCZSxLQUF0QjtFQUNBNUIsU0FBUyxDQUFDYSxXQUFWLENBQXNCcEIsSUFBdEI7RUFFQUksSUFBSSxDQUFDZ0IsV0FBTCxDQUFpQmIsU0FBakI7QUFDSDs7QUFFRDhCLE1BQU0sQ0FBQ0MsZ0JBQVAsQ0FBd0IsTUFBeEIsRUFBZ0MsTUFBTTtFQUNsQzFFLFdBQVcsR0FBRzJFLElBQWQsQ0FBbUJDLElBQUksSUFBSTtJQUN2QlgsUUFBUSxDQUFDVyxJQUFELENBQVI7SUFDQXRDLFdBQVcsQ0FBQ3NDLElBQUQsQ0FBWDtFQUNILENBSEQ7QUFJSCxDQUxEO0FBT0EsTUFBTUMsS0FBSyxHQUFHcEMsUUFBUSxDQUFDQyxhQUFULENBQXVCLGdCQUF2QixDQUFkO0FBQ0EsTUFBTW9DLFNBQVMsR0FBR3JDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixTQUF2QixDQUFsQjtBQUVBb0MsU0FBUyxDQUFDSixnQkFBVixDQUEyQixPQUEzQixFQUFxQ0ssQ0FBRCxJQUFPO0VBQ3ZDQSxDQUFDLENBQUNDLGNBQUY7RUFDQSxNQUFNQyxTQUFTLEdBQUdKLEtBQUssQ0FBQ0ssS0FBeEI7RUFDQXhCLGFBQWEsQ0FBQ3VCLFNBQUQsQ0FBYixDQUF5Qk4sSUFBekIsQ0FBOEJDLElBQUksSUFBSTtJQUNsQ1gsUUFBUSxDQUFDVyxJQUFELENBQVI7SUFDQXRDLFdBQVcsQ0FBQ3NDLElBQUQsQ0FBWDtFQUNILENBSEQ7QUFJSCxDQVBELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbm90aGVyLXdlYXRoZXItYXBwLy4vc3JjL3N0eWxlcy9tYWluLnNjc3MiLCJ3ZWJwYWNrOi8vYW5vdGhlci13ZWF0aGVyLWFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hbm90aGVyLXdlYXRoZXItYXBwL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYW5vdGhlci13ZWF0aGVyLWFwcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL3N0eWxlcy9tYWluLnNjc3MnO1xuXG5sZXQgcmVnaW9uTmFtZXMgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoWydlbiddLCB7dHlwZTogJ3JlZ2lvbid9KTtcblxuZnVuY3Rpb24gZ2V0UG9zKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihyZXMsIHJlaik7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gYXBpQ2FsbChsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICByZXR1cm4gZmV0Y2goYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP2xhdD0ke2xhdGl0dWRlfSZsb249JHtsb25naXR1ZGV9JnVuaXRzPW1ldHJpYyZhcHBpZD0zMWQ2MGFlMjI5MDYwMDI0NjRlMGU3ZjRlZjYwOGJjNWAsIHttb2RlOiAnY29ycyd9KTtcbn1cblxuZnVuY3Rpb24gYXBpU2VhcmNoKGxvYykge1xuICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2xvY30mdW5pdHM9bWV0cmljJmFwcGlkPTMxZDYwYWUyMjkwNjAwMjQ2NGUwZTdmNGVmNjA4YmM1YCwge21vZGU6ICdjb3JzJ30pXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHdlYXRoZXJMb2FkKCkge1xuICAgIGNvbnN0IHVzZXJQb3MgPSBhd2FpdCBnZXRQb3MoKTtcbiAgICBjb25zdCB1c2VyTGF0ID0gdXNlclBvcy5jb29yZHMubGF0aXR1ZGU7XG4gICAgY29uc3QgdXNlckxvbmcgPSB1c2VyUG9zLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgY29uc3QgdXNlckFQSSA9IGF3YWl0IGFwaUNhbGwodXNlckxhdCwgdXNlckxvbmcpO1xuICAgIGNvbnN0IHVzZXJKU09OID0gYXdhaXQgdXNlckFQSS5qc29uKCk7XG4gICAgY29uc3QgdXNlckZvcmVjYXN0ID0gYXdhaXQgd2VhdGhlckxvYWRGb3JlY2FzdCh1c2VyTGF0LCB1c2VyTG9uZyk7XG4gICAgY29uc3QgdXNlckZvcmVjYXN0SlNPTiA9IGF3YWl0IHVzZXJGb3JlY2FzdC5qc29uKCk7XG4gICAgY29uc3QgZml2ZURheSA9IFtdO1xuICAgIHVzZXJGb3JlY2FzdEpTT04ubGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5kdF90eHQuaW5jbHVkZXMoXCIxMjowMDowMFwiKSkge1xuICAgICAgICAgICAgZml2ZURheS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB1c2VyV2VhdGhlckRhdGEgPSB7XG4gICAgICAgIGxvYzogdXNlckpTT04ubmFtZSxcbiAgICAgICAgY291bnRyeTogdXNlckpTT04uc3lzLmNvdW50cnksXG4gICAgICAgIHRlbXA6IHVzZXJKU09OLm1haW4udGVtcCxcbiAgICAgICAgZmVlbHNMaWtlOiB1c2VySlNPTi5tYWluLmZlZWxzX2xpa2UsXG4gICAgICAgIGRlc2M6IHVzZXJKU09OLndlYXRoZXJbMF0uZGVzY3JpcHRpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB1c2VySlNPTi53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uLnNsaWNlKDEpLFxuICAgICAgICBodW1pZGl0eTogdXNlckpTT04ubWFpbi5odW1pZGl0eSxcbiAgICAgICAgd2luZFNwZWVkOiB1c2VySlNPTi53aW5kLnNwZWVkLFxuICAgICAgICBpY29uOiB1c2VySlNPTi53ZWF0aGVyWzBdLmljb24sXG4gICAgICAgIGZvcmVjYXN0OiBmaXZlRGF5XG4gICAgfVxuICAgIHJldHVybiB1c2VyV2VhdGhlckRhdGE7XG59XG5cbmZ1bmN0aW9uIGFkZEZvcmVjYXN0KHdlYXRoZXJPYmopIHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JlY2FzdCcpO1xuICAgIHdlYXRoZXJPYmouZm9yZWNhc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IGl0ZW0uZHRfdHh0LnNwbGl0KCcgJyk7XG4gICAgICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKS50b0RhdGVTdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZm9yZWNhc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgZkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaWNvbi5zcmMgPSAgYGh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7aXRlbS53ZWF0aGVyWzBdLmljb259LnBuZ2A7XG4gICAgICAgIGNvbnN0IGZUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBjb25zdCBmRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblxuICAgICAgICBmRGF0ZS50ZXh0Q29udGVudCA9IG5ld0RhdGU7XG4gICAgICAgIGZUZW1wLnRleHRDb250ZW50ID0gYCR7aXRlbS5tYWluLnRlbXB9wrBDYDtcbiAgICAgICAgZkRlc2MudGV4dENvbnRlbnQgPSBgJHtpdGVtLndlYXRoZXJbMF0uZGVzY3JpcHRpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBpdGVtLndlYXRoZXJbMF0uZGVzY3JpcHRpb24uc2xpY2UoMSl9YDtcblxuICAgICAgICBmb3JlY2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChmRGF0ZSk7XG4gICAgICAgIGZvcmVjYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBmb3JlY2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZChmVGVtcCk7XG4gICAgICAgIGZvcmVjYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGZEZXNjKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcmVjYXN0Q29udGFpbmVyKTtcbiAgICB9KTtcblxuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbn1cblxuZnVuY3Rpb24gd2VhdGhlckxvYWRGb3JlY2FzdChsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICAgcmV0dXJuIGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvZm9yZWNhc3Q/bGF0PSR7bGF0aXR1ZGV9Jmxvbj0ke2xvbmdpdHVkZX0mdW5pdHM9bWV0cmljJmFwcGlkPTMxZDYwYWUyMjkwNjAwMjQ2NGUwZTdmNGVmNjA4YmM1YCwge21vZGU6ICdjb3JzJ30pO1xufVxuXG5mdW5jdGlvbiB3ZWF0aGVyU2VhcmNoRm9yZWNhc3QobG9jKSB7XG4gICAgcmV0dXJuIGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvZm9yZWNhc3Q/cT0ke2xvY30mdW5pdHM9bWV0cmljJmFwcGlkPTMxZDYwYWUyMjkwNjAwMjQ2NGUwZTdmNGVmNjA4YmM1YCwge21vZGU6ICdjb3JzJ30pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZWFyY2hXZWF0aGVyKGxvY2F0aW9uKSB7XG4gICAgY29uc3Qgd2VhdGhlclNlYXJjaCA9IGF3YWl0IGFwaVNlYXJjaChsb2NhdGlvbik7XG4gICAgY29uc3Qgd2VhdGhlckpTT04gPSBhd2FpdCB3ZWF0aGVyU2VhcmNoLmpzb24oKTtcbiAgICBjb25zdCB3ZWF0aGVyRm9yZWNhc3QgPSBhd2FpdCB3ZWF0aGVyU2VhcmNoRm9yZWNhc3QobG9jYXRpb24pO1xuICAgIGNvbnN0IHdlYXRoZXJGb3JlY2FzdEpTT04gPSBhd2FpdCB3ZWF0aGVyRm9yZWNhc3QuanNvbigpO1xuICAgIGNvbnN0IGZpdmVEYXkgPSBbXTtcbiAgICB3ZWF0aGVyRm9yZWNhc3RKU09OLmxpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uZHRfdHh0LmluY2x1ZGVzKFwiMTI6MDA6MDBcIikpIHtcbiAgICAgICAgICAgIGZpdmVEYXkucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgY29uc3Qgd2VhdGhlckRhdGEgPSB7XG4gICAgICAgIGxvYzogd2VhdGhlckpTT04ubmFtZSxcbiAgICAgICAgY291bnRyeTogd2VhdGhlckpTT04uc3lzLmNvdW50cnksXG4gICAgICAgIHRlbXA6IHdlYXRoZXJKU09OLm1haW4udGVtcCxcbiAgICAgICAgZmVlbHNMaWtlOiB3ZWF0aGVySlNPTi5tYWluLmZlZWxzX2xpa2UsXG4gICAgICAgIGRlc2M6IHdlYXRoZXJKU09OLndlYXRoZXJbMF0uZGVzY3JpcHRpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3ZWF0aGVySlNPTi53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uLnNsaWNlKDEpLFxuICAgICAgICBodW1pZGl0eTogd2VhdGhlckpTT04ubWFpbi5odW1pZGl0eSxcbiAgICAgICAgd2luZFNwZWVkOiB3ZWF0aGVySlNPTi53aW5kLnNwZWVkLFxuICAgICAgICBpY29uOiB3ZWF0aGVySlNPTi53ZWF0aGVyWzBdLmljb24sXG4gICAgICAgIGZvcmVjYXN0OiBmaXZlRGF5XG4gICAgfVxuICAgIHJldHVybiB3ZWF0aGVyRGF0YTtcbn1cblxuZnVuY3Rpb24gYWRkVG9ET00od2VhdGhlck9iaikge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaW5mbycpO1xuICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9ICcnO1xuICAgIGNvbnN0IHBMb2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgcFRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgcEZlZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHBEZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHBIdW1pZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBwV2luZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICBpY29uLnNyYyA9ICBgaHR0cDovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHt3ZWF0aGVyT2JqLmljb259LnBuZ2BcblxuICAgIHBMb2MudGV4dENvbnRlbnQgPSBgJHt3ZWF0aGVyT2JqLmxvY30sICR7cmVnaW9uTmFtZXMub2Yod2VhdGhlck9iai5jb3VudHJ5KX1gO1xuICAgIHBUZW1wLnRleHRDb250ZW50ID0gYFRlbXBlcmF0dXJlOiAke3dlYXRoZXJPYmoudGVtcH3CsENgO1xuICAgIHBGZWVscy50ZXh0Q29udGVudCA9IGBGZWVscyBsaWtlOiAke3dlYXRoZXJPYmouZmVlbHNMaWtlfcKwQ2A7XG4gICAgcERlc2MudGV4dENvbnRlbnQgPSBgV2VhdGhlcjogJHt3ZWF0aGVyT2JqLmRlc2N9YDtcbiAgICBwSHVtaWQudGV4dENvbnRlbnQgPSBgSHVtaWRpdHk6ICR7d2VhdGhlck9iai5odW1pZGl0eX0lYDtcbiAgICBwV2luZC50ZXh0Q29udGVudCA9IGBXaW5kIHNwZWVkOiAke3dlYXRoZXJPYmoud2luZFNwZWVkfSBtL3NgO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBMb2MpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwVGVtcCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBGZWVscyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBEZXNjKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocEh1bWlkKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocFdpbmQpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTtcblxuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgd2VhdGhlckxvYWQoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBhZGRUb0RPTShkYXRhKTtcbiAgICAgICAgYWRkRm9yZWNhc3QoZGF0YSk7XG4gICAgfSk7XG59KVxuXG5jb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWlucHV0Jyk7XG5jb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VibWl0Jyk7XG5cbnN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGlucHV0LnZhbHVlO1xuICAgIHNlYXJjaFdlYXRoZXIodXNlcklucHV0KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBhZGRUb0RPTShkYXRhKTtcbiAgICAgICAgYWRkRm9yZWNhc3QoZGF0YSk7XG4gICAgfSk7XG59KVxuXG5cbiJdLCJuYW1lcyI6WyJyZWdpb25OYW1lcyIsIkludGwiLCJEaXNwbGF5TmFtZXMiLCJ0eXBlIiwiZ2V0UG9zIiwiUHJvbWlzZSIsInJlcyIsInJlaiIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwiYXBpQ2FsbCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZmV0Y2giLCJtb2RlIiwiYXBpU2VhcmNoIiwibG9jIiwid2VhdGhlckxvYWQiLCJ1c2VyUG9zIiwidXNlckxhdCIsImNvb3JkcyIsInVzZXJMb25nIiwidXNlckFQSSIsInVzZXJKU09OIiwianNvbiIsInVzZXJGb3JlY2FzdCIsIndlYXRoZXJMb2FkRm9yZWNhc3QiLCJ1c2VyRm9yZWNhc3RKU09OIiwiZml2ZURheSIsImxpc3QiLCJmb3JFYWNoIiwiaXRlbSIsImR0X3R4dCIsImluY2x1ZGVzIiwicHVzaCIsInVzZXJXZWF0aGVyRGF0YSIsIm5hbWUiLCJjb3VudHJ5Iiwic3lzIiwidGVtcCIsIm1haW4iLCJmZWVsc0xpa2UiLCJmZWVsc19saWtlIiwiZGVzYyIsIndlYXRoZXIiLCJkZXNjcmlwdGlvbiIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJodW1pZGl0eSIsIndpbmRTcGVlZCIsIndpbmQiLCJzcGVlZCIsImljb24iLCJmb3JlY2FzdCIsImFkZEZvcmVjYXN0Iiwid2VhdGhlck9iaiIsImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250YWluZXIiLCJkYXRlIiwic3BsaXQiLCJuZXdEYXRlIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsImZvcmVjYXN0Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImZEYXRlIiwic3JjIiwiZlRlbXAiLCJmRGVzYyIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJ3ZWF0aGVyU2VhcmNoRm9yZWNhc3QiLCJzZWFyY2hXZWF0aGVyIiwibG9jYXRpb24iLCJ3ZWF0aGVyU2VhcmNoIiwid2VhdGhlckpTT04iLCJ3ZWF0aGVyRm9yZWNhc3QiLCJ3ZWF0aGVyRm9yZWNhc3RKU09OIiwid2VhdGhlckRhdGEiLCJhZGRUb0RPTSIsInBMb2MiLCJwVGVtcCIsInBGZWVscyIsInBEZXNjIiwicEh1bWlkIiwicFdpbmQiLCJvZiIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIiwiZGF0YSIsImlucHV0Iiwic3VibWl0QnRuIiwiZSIsInByZXZlbnREZWZhdWx0IiwidXNlcklucHV0IiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9